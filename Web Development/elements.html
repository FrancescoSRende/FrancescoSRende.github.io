<!DOCTYPE html>
<html>
<head>
    <title>Elements</title>

    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
</head>

<body>

    <nav>
        <div class="nav-wrapper">
            <a href="#" class="brand-logo center">Logo</a>
            <ul id="nav-mobile" class="left hide-on-med-and-down">
                <li><a href="#login-modal" class="modal-trigger" style = "display: none">Login</a></li>
                <li><a href="index.html" id="logout-nav" style = "display: block">Logout</a></li>
                <li><a href="#" id="elements-nav" style = "display: none">Elements</a></li>
                <li><a href="elements_game.html" id="elements-game-nav" style = "display: block">Elements Game</a></li>
            </ul>
        </div>
    </nav>

    <div class="container">

        <div class="row" id="elementDisplay">
            <div class="col s12 m6 l4">
                <div class="card blue-grey darken-1">
                    <div class="card-content white-text">
                        <span class="card-title">Card Title</span>
                        <p>I am a very simple card. I am good at containing small bits of information.
                        I am convenient because I require little markup to use effectively.</p>
                    </div>
                    <div class="card-action">
                        <a href="#">This is a link</a>
                        <a href="#">This is a link</a>
                    </div>
                </div>
            </div>
        </div>
    </div>










    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>

    
    
    
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.5/firebase-database.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
        https://firebase.google.com/docs/web/setup#available-libraries -->

    <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
        apiKey: "AIzaSyBL1_isu2ts1maSOuPbz0WO2boLyPc3SoE",
        authDomain: "elementsdemo-679a3.firebaseapp.com",
        databaseURL: "https://elementsdemo-679a3-default-rtdb.firebaseio.com",
        projectId: "elementsdemo-679a3",
        storageBucket: "elementsdemo-679a3.appspot.com",
        messagingSenderId: "820053427228",
        appId: "1:820053427228:web:c5cd539463ecc04f72cbd9"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    database = firebase.database()
    </script>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <script>

        /*
        dataDB = database.ref('/elements/').once('value').then((snapshot) => {
            dataSTR = ""
            data = snapshot.val()

            for (i = 0; i < data.length; i = i + 1) {
                dataSTR = dataSTR + createCard(data[i])
            }

            elementDisplay.innerHTML = dataSTR
            
        })
        */


        dataDB = database.ref('/elements/').on('value',(snapshot) => {
            dataSTR = ""
            data = snapshot.val()

            for (i = 0; i < data.length; i = i + 1) {
                dataSTR = dataSTR + createCard(data[i])
            }

            elementDisplay.innerHTML = dataSTR
        
            
        });





        const elementDisplay = document.getElementById("elementDisplay");
        // elementDisplay.innerHTML = "ddd"
        console.log(elementDisplay)

        // const elementDispla = document.getElementById("elementDispla");
        // elementDispla.innerHTML = "ddd"
        // console.log(elementDispla)











        var data = 
			{	
				"elements": [
					{ 
						"name": "Hydrogen",
						"symbol": "H", 
						"number": 1, 
						"atomicMass": 1.007947, 
						"img": "LINK",
						"fact": "Hydrogen is the most abundent element in the universe"
					},
					{
						"name": "Helium",
						"symbol": "He",
						"number": 2, 
						"atomicMass": 4.002602, 
						"img": "LINK",
						"fact": "Helium is a colourless, tasteless and odorless gas"

					},

                    {
						"name": "Lithium",
						"symbol": "Li",
						"number": 3, 
						"atomicMass": 6.941, 
						"img": "LINK",
						"fact": "Lithium is used to treat major depressive disorders"

					},

                    {
						"name": "Beryllium",
						"symbol": "Be",
						"number": 4, 
						"atomicMass": 9.012182, 
						"img": "LINK",
						"fact": "Beryllium is used to make cell phones, missiles and aircrafts"

					}
				]
			}












        function createCard(elemOBJ) {
            console.log(elemOBJ)
            const card = `
            <div class="col s12 m6 l4">
                <div class="card small blue-grey darken-1">
                    <div class="card-content white-text">
                        <span class="card-title">${elemOBJ["name"]}: ${elemOBJ["symbol"]}</span>
                        <p>${elemOBJ["fact"]}</p>
                    </div>
                    <div class="card-action">
                        <a href="#">This is a link</a>
                        <a href="#">This is a link</a>
                    </div>
                </div>
            </div>
            `

            return card
        }










        







        function demoIdea(data) {

            //Return type is a string (creates a string version of data)
            //Takes data (a JSON object) as a parameter
            //Static because it is not invoked with an object - JSON is the
            //package/class where stringify lives

            dataSTR = JSON.stringify(data);
            console.log(dataSTR)
            dataJSON = JSON.parse(dataSTR);
            console.log("*****")
            console.log(dataJSON)

        }



    </script>


</body>
</html>